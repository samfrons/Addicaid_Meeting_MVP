<!--Giving the div an id="map_canvas" fix problems with twitter bootstrap affecting google maps-->
<section class="mobile_page" id="filter_page">
<ng-include src="getPartialUrl('meetingFilters')" ng-controller="MeetingFiltersCtrl" id="meetingFiltersSection" class="filter_partial"></ng-include>
</section>



<!-- Giving the div an id="map_canvas" fix problems with twitter bootstrap affecting
google maps -->

<div class="row-fluid">
	<section class="mobile_page" id="list_page">
<div class="span4 meeting_results">


<!-- this is the confusing part. we have to point the map marker directive
  at an existing google.maps.Marker object, so it can hook up events -->
<div ng-repeat="meeting in meetings | orderBy:distance" ui-map-marker="meeting.marker"
     ui-event="{'map-click': 'openMarkerInfo(meeting)'}">
  <ng-include src="getPartialUrl('meetingDetailSmall')" ng-controller="MeetingDetailSmallCtrl"></ng-include>
</div>

<div ui-map-info-window="myInfoWindow" >
  <ng-include src="getPartialUrl('meetingDetailSmall')" ng-controller="MeetingDetailSmallCtrl"></ng-include>
</div>

</div>
</section>

<section class="mobile_page map_page">
<div id="map_canvas" ui-map="map" class="span8 map"
     ui-event="{'map-bounds_changed': 'updateMapBounds()', 'map-center_changed': 'updateCurrentLocationFromMapCenter()'}"
     ui-options="mapOptions">
</div>
</section>

<nav class="bottom">
 <ul>
 	<a href="#list_page"><li>list</li></a>
 	<li>map</li>
 	<li>filter</li>
 	<li>feedback</li>
 </ul>
</nav>

</div>

