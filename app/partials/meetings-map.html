<header ng-include src="views['header']"></header>
<nav>
    <ul class="vertical" id="filter">
        <li class="filterbuttons" id="listicon" ng-tap="$navigate.go('/meetings_list', 'slide')"></li>
        <li class="filterbuttons" id="filtericon" ng-tap="$navigate.go('/meetings_filter', 'slide')"></li>
    </ul>
</nav>
<!--<ul>-->
    <!--<li ng-repeat="marker in myMarkers">-->
        <!--<a ng-click="myMap.panTo(marker.getPosition())">Pan to Marker {{$index}}</a>-->
    <!--</li>-->
<!--</ul>-->

<!-- this is the confusing part. we have to point the map marker directive
  at an existing google.maps.Marker object, so it can hook up events -->
<div ng-repeat="marker in myMarkers" ui-map-marker="myMarkers[$index]"
     ui-event="{'map-click': 'openMarkerInfo(marker)'}">
</div>

<div ui-map-info-window="myInfoWindow" class="map_popup">
        <hgroup class="hgroup_details">
        <h3>{{currentMarker.meeting.title}}</h3>
        <h4>{{currentMarker.meeting.address}}</h4>
        <h5>{{currentMarker.meeting.fellowship}}</h5>

        <div  class="map_result">
            <aside class="badges">
                <img src="images/award_icon.png">
                <img src="images/wheelchair.png">
                <img src="images/large_group.png">
            </aside>
            <hgroup class="date">
                <h3>{{currentMarker.meeting.day}}</h3>
                <h3>{{currentMarker.meeting.time}}</h3>
                <p id="add_meeting">+</p>
            </hgroup>
            <button>directions</button>
        </hgroup>
</div>

<!-- Giving the div an id="map_canvas" fix problems with twitter bootstrap affecting
google maps -->
<div id="map_canvas" ui-map="myMap" class="map"
     ui-event="{'map-click': 'addMarker($event)', 'map-zoom_changed': 'setZoomMessage(myMap.getZoom())' }"
     ui-options="mapOptions">
</div>

<nav class="bottom_nav" ng-include src="views['footer']"></nav>

<style>
    .map {
        height: 100%;
        width: 100%;
    }
</style>